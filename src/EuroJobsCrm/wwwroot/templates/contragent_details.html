<ui-view ng-controller="ContragentManageController">
	<div layout="column" layout-align="space-around none" layout-padding>
		<div layout="row" layout-align="space-between" layout-padding layout-wrap>
			<div flex-xs flex-gt-xs="35" layout-xs="column">
				<section class="demo-container md-whiteframe-z1" ng-class="{'show-source': demoCtrl.$showSource}">
					<md-toolbar>
						<div class="md-toolbar-tools">
							<h2>
								<span>Detail information</span>
							</h2>
							<span flex></span>
							<md-button class="md-icon-button " aria-label="Use Android" ng-click="showEditContragentDialog()">
								<md-icon md-font-icon="ion-edit"></md-icon>
							</md-button>
							<md-button class="md-icon-button" aria-label="Use Android" ng-click="expandDetails = !expandDetails">
								<md-icon md-font-icon="ion-navicon-round"></md-icon>
							</md-button>
						</div>
					</md-toolbar>
					<div layout="row" layout-padding="" ng-show="expandDetails" ng-cloak>
						<md-content flex="100">
							<form name="contragentForm">
								<md-input-container class="md-block">
									<label>{{'CONTRAGENT_NAME'| translate}}</label>
									<input name="contragent_name" ng-model="contragent.name" placeholder="Firma S. A." ng-disabled="true" md-maxlength="100"
										required>
									<div ng-messages="contragentForm.contragent_name.$error" role="alert" multiple>
										<div ng-message="required">{{'NAME_REQUIRED' | translate}} </div>
										<div ng-message="md-maxlength">{{'NAME_IS_TO_LONG'| translate}}</div>
									</div>
								</md-input-container>
								<md-input-container class="md-block">
									<label>{{'LICENSE_NUMBER'| translate}}</label>
									<input name="license_number" ng-model="contragent.licenseNumber" placeholder="License number" ng-disabled="true" md-maxlength="100"
										required>
									<div ng-messages="contragentForm.license_number.$error" role="alert" multiple>
										<div ng-message="required">{{'LICENSE_NUMBER_REQUIRED' | translate}} </div>
										<div ng-message="md-maxlength">{{'LICENSE_NUMBER_IS_TO_LONG'| translate}}</div>
									</div>
								</md-input-container>
								<md-input-container class="md-block">
									<label>{{ 'STATUS' | translate }}</label>
									<md-select name="type" ng-model="contragent.status" data-placeholder="{{ 'STATUS' | translate }}" ng-disabled="true" required>
										<md-option value="a">{{ 'ACTIVE' | translate }}</md-option>
										<md-option value="i">{{ 'INACTIVE' | translate }}</md-option>
									</md-select>
								</md-input-container>
							</form>
						</md-content>
					</div>
				</section>
			</div>
			<div flex-xs flex-gt-xs="65" layout-xs="column">
				<section class="demo-container md-whiteframe-z1" ng-class="{'show-source': demoCtrl.$showSource}">
					<md-toolbar>
						<div class="md-toolbar-tools">
							<h2>
								<span>Contact persons</span>
							</h2>
							<span flex></span>
							<md-button class="md-icon-button" aria-label="Add Contact Person" ng-click="showNewContactPersonDialog()">
								<md-icon md-font-icon="ion-plus-round"></md-icon>
							</md-button>
							<md-button class="md-icon-button" aria-label="Use Android" ng-click="expandContactPersons = !expandContactPersons">
								<md-icon md-font-icon="ion-navicon-round"></md-icon>
							</md-button>
						</div>
					</md-toolbar>
					<div layout="row" layout-padding ng-cloak ng-show="expandContactPersons" class="item-show-hide">
						<md-content flex="100">
							<md-list ng-cloak style="margin-top: -11px">
								<!--	<md-subheader class="md-no-sticky">Contragents</md-subheader> -->

								<md-list-item class="md-2-line" ng-repeat="contactperson in contragent.contactPersons">
									<md-icon style="font-size:32px;" md-font-icon="ion-ios-people-outline" ng-click="showEditContactPersonDialog(contactperson)"></md-icon>
									<div class="md-list-item-text">

										<h3><b>{{contactperson.name}} {{contactperson.surname}} ({{contactperson.position}})<b></h3>
											<p>
												<b>{{'Email'|translate}}</b>: {{contactperson.email}} <b>{{'Phone'|translate}}</b>: {{contactperson.phoneNumber}}
											</p>
											<p>
												<b>{{'Skype'|translate}}</b>: {{contactperson.skype}} <b>{{'Messagner'|translate}}</b>: {{contactperson.messanger}}
											</p>
									</div>


									<md-button class="md-icon-button md-secondary " ng-click="showEditContactPersonDialog(contactperson)">
										<md-icon md-svg-icon="/lib/icons/edit.svg"></md-icon>
									</md-button>
									<md-button class="md-icon-button md-secondary " ng-click="showDeleteCtpConfirmDialog(contactperson.id)">
										<md-icon md-svg-icon="/lib/icons/delete.svg"></md-icon>
									</md-button>
									<md-divider ng-if="!$last"></md-divider>	
								</md-list-item>

							</md-list>
						</md-content>
					</div>
				</section>
			</div>
		</div>
		<div layout="column" layout-align="space-between" layout-padding layout-wrap>
			<div flex-xs layout="column">
				<section class="demo-container md-whiteframe-z1" ng-class="{'show-source': demoCtrl.$showSource}">
					<md-toolbar>
						<div class="md-toolbar-tools">
							<h2>
								<span>Employees</span>
							</h2>
							<span flex></span>
							<md-button class="md-icon-button" aria-label="Use Android">
								<md-icon md-font-icon="ion-plus-round"></md-icon>
							</md-button>
							<md-button class="md-icon-button" aria-label="Use Android" ng-click="expandEmployees = !expandEmployees">
								<md-icon md-font-icon="ion-navicon-round"></md-icon>
							</md-button>
						</div>
					</md-toolbar>
					<div layout="row" layout-padding="" ng-show="expandEmployees" ng-cloak>
						<md-content flex="100">
							<form name="contragentForm">
								<md-input-container class="md-block">
									<label>{{'CONTRAGENT_NAME'| translate}}</label>
									<input name="contragent_name" ng-model="contragent.name" placeholder="Firma S. A." ng-disabled="true" md-maxlength="100"
										required>
									<div ng-messages="contragentForm.contragent_name.$error" role="alert" multiple>
										<div ng-message="required">{{'NAME_REQUIRED' | translate}} </div>
										<div ng-message="md-maxlength">{{'NAME_IS_TO_LONG'| translate}}</div>
									</div>
								</md-input-container>
								<md-input-container class="md-block">
									<label>{{'LICENSE_NUMBER'| translate}}</label>
									<input name="license_number" ng-model="contragent.licenseNumber" placeholder="License number" ng-disabled="true" md-maxlength="100"
										required>
									<div ng-messages="contragentForm.license_number.$error" role="alert" multiple>
										<div ng-message="required">{{'LICENSE_NUMBER_REQUIRED' | translate}} </div>
										<div ng-message="md-maxlength">{{'LICENSE_NUMBER_IS_TO_LONG'| translate}}</div>
									</div>
								</md-input-container>
								<md-input-container class="md-block">
									<label>{{ 'STATUS' | translate }}</label>
									<md-select name="type" ng-model="contragent.status" data-placeholder="{{ 'STATUS' | translate }}" ng-disabled="true" required>
										<md-option value="a">{{ 'ACTIVE' | translate }}</md-option>
										<md-option value="i">{{ 'INACTIVE' | translate }}</md-option>
									</md-select>
								</md-input-container>
							</form>
						</md-content>
					</div>
				</section>
			</div>
			<div flex-xs layout="column">
				<section class="demo-container md-whiteframe-z1" ng-class="{'show-source': demoCtrl.$showSource}">
					<md-toolbar>
						<div class="md-toolbar-tools">
							<h2>
								<span>Addresses</span>
							</h2>
							<span flex></span>
							<md-button class="md-icon-button" aria-label="Use Android" ng-click="showNewAddressDialog()">
								<md-icon md-font-icon="ion-plus-round"></md-icon>
							</md-button>
							<md-button class="md-icon-button" aria-label="Use Android" ng-click="expandAddresses = !expandAddresses">
								<md-icon md-font-icon="ion-navicon-round"></md-icon>
							</md-button>
						</div>
					</md-toolbar>
					<div layout="row" layout-padding ng-cloak ng-show="expandAddresses" class="item-show-hide">
						<md-content flex="100">

							<md-list ng-cloak>				
								<md-list-item class="md-2-line" ng-repeat="address in contragent.addresses" >

									<md-icon  style="font-size:32px;" md-font-icon="ion-ios-home-outline" ng-click="showEditAddressDialog(address)"></md-icon>
									<div class="md-list-item-text">
										   <h4>{{'ADDRESS_TITLE'| translate}}: <b>{{address.address}}</b>, <b>{{address.postCode}}</b></h4>
											<p>{{ 'CITY' | translate }}: <b>{{address.city}}</b>, &nbsp&nbsp {{ 'COUNTRY' | translate }} <b>{{address.country}}</b> </p>
											<p ng-show="address.type == 1"> {{ 'LEGAL_ADDRESS' | translate }}</p>
											<p ng-show="address.type == 2"> {{ 'PHYSICAL_ADDRESS' | translate }}</p>
											<p ng-show="address.type == 3"> {{ 'HOME_ADDRESS' | translate }}</p>
											
									</div>

									<md-button class="md-icon-button md-secondary" ng-click="showEditAddressDialog(address)">
										<md-icon md-svg-icon="/lib/icons/edit.svg"></md-icon>
									</md-button>
									<md-button class="md-icon-button md-secondary" ng-click="showDeleteAddressConfirmDialog(address.id)">
										<md-icon md-svg-icon="/lib/icons/delete.svg"></md-icon>
									</md-button>
									<md-divider ng-if="!$last"></md-divider>	
								</md-list-item>
							</md-list>
						</md-content>
					</div>
				</section>
			</div>
		</div>
	</div>
	<nav mfb-menu position="br" effect="zoomin" active-icon="ion-edit" resting-icon="ion-plus-round">
		<a mfb-button icon="ion-home" label="{{'Add address' | translate}}" ng-click="showNewAddressDialog()" />
		<a mfb-button icon="ion-person-add" label="{{'Add employee' | translate}}" ng-click="" />
		<a mfb-button icon="ion-android-contact" label="{{'Add contact person' | translate}}" ng-click="showNewContactPersonDialog()"
		/>
	</nav>

	<nav mfb-menu position="tl" style="margin-top:100px;" active-icon="ion-android-arrow-back" resting-icon="ion-android-arrow-back"
					ng-click="goBack()">

	</nav>
</ui-view>
